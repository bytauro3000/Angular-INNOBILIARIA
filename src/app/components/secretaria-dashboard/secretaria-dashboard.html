<div class="principal-container">
  <h1 class="titulo">Panel de Gestión Inmobiliaria</h1>
  <p class="subtitulo">Resumen actual de los activos y personal del sistema.</p>

  <div class="cards-container">
    <div class="card card-clientes" (click)="irARuta('/secretaria-menu/clientes')">
      <div class="card-header"><i class="bi bi-people-fill icon"></i></div>
      <div class="card-body">
        <p class="title">Clientes</p>
        <p class="total">{{ totalClientes }}</p>
      </div>
      <div class="card-footer">
        <span class="btn-ver">Gestionar <i class="bi bi-arrow-right-circle"></i></span>
      </div>
    </div>

    <div class="card card-lotes" (click)="irARuta('/secretaria-menu/lotes')">
      <div class="card-header"><i class="bi bi-grid-3x3-gap icon"></i></div>
      <div class="card-body">
        <p class="title">Lotes</p>
        <p class="total">{{ totalLotes }}</p>
      </div>
      <div class="card-footer">
        <span class="btn-ver">Gestionar <i class="bi bi-arrow-right-circle"></i></span>
      </div>
    </div>

    <div class="card card-parceleros" (click)="irARuta('/secretaria-menu/parceleros')">
      <div class="card-header"><i class="bi bi-tree icon"></i></div>
      <div class="card-body">
        <p class="title">Parceleros</p>
        <p class="total">{{ totalParceleros }}</p>
      </div>
      <div class="card-footer">
        <span class="btn-ver">Gestionar <i class="bi bi-arrow-right-circle"></i></span>
      </div>
    </div>

    <div class="card card-vendedores" (click)="irARuta('/secretaria-menu/vendedores')">
      <div class="card-header"><i class="bi bi-person-badge icon"></i></div>
      <div class="card-body">
        <p class="title">Vendedores</p>
        <p class="total">{{ totalVendedores }}</p>
      </div>
      <div class="card-footer">
        <span class="btn-ver">Gestionar <i class="bi bi-arrow-right-circle"></i></span>
      </div>
    </div>

    <div class="card card-programas" (click)="irARuta('/secretaria-menu/programas')">
      <div class="card-header"><i class="bi bi-folder-fill icon"></i></div>
      <div class="card-body">
        <p class="title">Programas</p>
        <p class="total">{{ totalProgramas }}</p>
      </div>
      <div class="card-footer">
        <span class="btn-ver">Gestionar <i class="bi bi-arrow-right-circle"></i></span>
      </div>
    </div>
  </div>

  <div class="charts-grid">
    <div class="chart-section shadow-sm">
      <h3><i class="bi bi-bar-chart-steps"></i> Inventario por Proyecto</h3>
      <div class="chart-container-responsive">
        <div class="chart-canvas-wrapper" *ngIf="barChartData.labels && barChartData.labels.length > 0">
          <canvas baseChart 
            [data]="barChartData" 
            [options]="barChartOptions" 
            [type]="'bar'">
          </canvas>
        </div>
      </div>
      <div *ngIf="!barChartData.labels || barChartData.labels.length === 0" class="loading-chart">
        <p>Cargando datos del inventario...</p>
      </div>
    </div>

    <div class="chart-section shadow-sm">
      <h3><i class="bi bi-pie-chart-fill"></i> Distribución de Contratos</h3>
      <div class="chart-container-responsive">
        <div class="chart-canvas-wrapper" *ngIf="contractChartData.datasets[0].data && contractChartData.datasets[0].data.length > 0">
          <canvas baseChart 
            [data]="contractChartData" 
            [options]="doughnutOptions" 
            [type]="'doughnut'">
          </canvas>
        </div>
      </div>
      <div *ngIf="!contractChartData.datasets[0].data || contractChartData.datasets[0].data.length === 0" class="loading-chart">
        <p>Cargando contratos...</p>
      </div>
    </div>
  </div>
</div>